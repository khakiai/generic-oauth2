{"version":3,"file":"plugin.cjs.js","sources":["esm/index.js","esm/web-utils.js","esm/web.js"],"sourcesContent":["import { registerPlugin } from '@capacitor/core';\nconst GenericOAuth2 = registerPlugin('GenericOAuth2', {\n    web: () => import('./web').then(m => new m.GenericOAuth2Web()),\n});\nexport * from './definitions';\nexport { GenericOAuth2 };\n//# sourceMappingURL=index.js.map","// import sha256 from \"fast-sha256\";\nexport class WebUtils {\n    /**\n     * Public only for testing\n     */\n    static getAppId(options) {\n        return this.getOverwritableValue(options, 'appId');\n    }\n    static getOverwritableValue(options, key) {\n        let base = options[key];\n        if (options.web && key in options.web) {\n            base = options.web[key];\n        }\n        return base;\n    }\n    /**\n     * Public only for testing\n     */\n    static getAuthorizationUrl(options) {\n        let url = options.authorizationBaseUrl + '?client_id=' + options.appId;\n        url += '&response_type=' + options.responseType;\n        if (options.redirectUrl) {\n            url += '&redirect_uri=' + options.redirectUrl;\n        }\n        if (options.scope) {\n            url += '&scope=' + options.scope;\n        }\n        url += '&state=' + options.state;\n        if (options.additionalParameters) {\n            for (const key in options.additionalParameters) {\n                url += '&' + key + '=' + options.additionalParameters[key];\n            }\n        }\n        if (options.pkceCodeChallenge) {\n            url += '&code_challenge=' + options.pkceCodeChallenge;\n            url += '&code_challenge_method=' + options.pkceCodeChallengeMethod;\n        }\n        return encodeURI(url);\n    }\n    static getTokenEndpointData(options, code) {\n        let body = '';\n        body +=\n            encodeURIComponent('grant_type') +\n                '=' +\n                encodeURIComponent('authorization_code') +\n                '&';\n        body +=\n            encodeURIComponent('client_id') +\n                '=' +\n                encodeURIComponent(options.appId) +\n                '&';\n        body +=\n            encodeURIComponent('redirect_uri') +\n                '=' +\n                encodeURIComponent(options.redirectUrl) +\n                '&';\n        body += encodeURIComponent('code') + '=' + encodeURIComponent(code) + '&';\n        body +=\n            encodeURIComponent('code_verifier') +\n                '=' +\n                encodeURIComponent(options.pkceCodeVerifier);\n        return body;\n    }\n    static setCodeVerifier(code) {\n        try {\n            window.sessionStorage.setItem(`I_Capacitor_GenericOAuth2Plugin_PKCE`, code);\n            return true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    static clearCodeVerifier() {\n        window.sessionStorage.removeItem(`I_Capacitor_GenericOAuth2Plugin_PKCE`);\n    }\n    static getCodeVerifier() {\n        return window.sessionStorage.getItem(`I_Capacitor_GenericOAuth2Plugin_PKCE`);\n    }\n    /**\n     * Public only for testing\n     */\n    static getUrlParams(url) {\n        const urlString = `${url !== null && url !== void 0 ? url : ''}`.trim();\n        if (urlString.length === 0) {\n            return;\n        }\n        const parsedUrl = new URL(urlString);\n        if (!parsedUrl.search && !parsedUrl.hash) {\n            return;\n        }\n        let urlParamStr;\n        if (parsedUrl.search) {\n            urlParamStr = parsedUrl.search.substr(1);\n        }\n        else {\n            urlParamStr = parsedUrl.hash.substr(1);\n        }\n        const keyValuePairs = urlParamStr.split(`&`);\n        return keyValuePairs.reduce((accumulator, currentValue) => {\n            const [key, val] = currentValue.split(`=`);\n            if (key && key.length > 0) {\n                return Object.assign(Object.assign({}, accumulator), { [key]: decodeURIComponent(val) });\n            }\n        }, {});\n    }\n    static randomString(length = 10) {\n        const haystack = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';\n        let randomStr;\n        if (window.crypto) {\n            let numberArray = new Uint32Array(length);\n            window.crypto.getRandomValues(numberArray);\n            numberArray = numberArray.map(x => haystack.charCodeAt(x % haystack.length));\n            const stringArray = [];\n            numberArray.forEach(x => {\n                stringArray.push(haystack.charAt(x % haystack.length));\n            });\n            randomStr = stringArray.join('');\n        }\n        else {\n            randomStr = '';\n            for (let i = 0; i < length; i++) {\n                randomStr += haystack.charAt(Math.floor(Math.random() * haystack.length));\n            }\n        }\n        return randomStr;\n    }\n    static async buildWebOptions(configOptions) {\n        var _a;\n        const webOptions = new WebOptions();\n        webOptions.appId = this.getAppId(configOptions);\n        webOptions.authorizationBaseUrl = this.getOverwritableValue(configOptions, 'authorizationBaseUrl');\n        webOptions.responseType = this.getOverwritableValue(configOptions, 'responseType');\n        if (!webOptions.responseType) {\n            webOptions.responseType = 'token';\n        }\n        webOptions.redirectUrl = this.getOverwritableValue(configOptions, 'redirectUrl');\n        // controlling parameters\n        webOptions.resourceUrl = this.getOverwritableValue(configOptions, 'resourceUrl');\n        webOptions.accessTokenEndpoint = this.getOverwritableValue(configOptions, 'accessTokenEndpoint');\n        webOptions.pkceEnabled = this.getOverwritableValue(configOptions, 'pkceEnabled');\n        webOptions.sendCacheControlHeader =\n            (_a = this.getOverwritableValue(configOptions, 'sendCacheControlHeader')) !== null && _a !== void 0 ? _a : webOptions.sendCacheControlHeader;\n        if (webOptions.pkceEnabled) {\n            const pkceCode = this.getCodeVerifier();\n            if (pkceCode) {\n                webOptions.pkceCodeVerifier = pkceCode;\n            }\n            else {\n                webOptions.pkceCodeVerifier = this.randomString(64);\n                this.setCodeVerifier(webOptions.pkceCodeVerifier);\n            }\n            if (CryptoUtils.HAS_SUBTLE_CRYPTO) {\n                await CryptoUtils.deriveChallenge(webOptions.pkceCodeVerifier).then(c => {\n                    webOptions.pkceCodeChallenge = c;\n                    webOptions.pkceCodeChallengeMethod = 'S256';\n                });\n            }\n            else {\n                webOptions.pkceCodeChallenge = webOptions.pkceCodeVerifier;\n                webOptions.pkceCodeChallengeMethod = 'plain';\n            }\n        }\n        webOptions.scope = this.getOverwritableValue(configOptions, 'scope');\n        webOptions.state = this.getOverwritableValue(configOptions, 'state');\n        if (!webOptions.state || webOptions.state.length === 0) {\n            webOptions.state = this.randomString(20);\n        }\n        const parametersMapHelper = this.getOverwritableValue(configOptions, 'additionalParameters');\n        if (parametersMapHelper) {\n            webOptions.additionalParameters = {};\n            for (const key in parametersMapHelper) {\n                if (key && key.trim().length > 0) {\n                    const value = parametersMapHelper[key];\n                    if (value && value.trim().length > 0) {\n                        webOptions.additionalParameters[key] = value;\n                    }\n                }\n            }\n        }\n        const headersMapHelper = this.getOverwritableValue(configOptions, 'additionalResourceHeaders');\n        if (headersMapHelper) {\n            webOptions.additionalResourceHeaders = {};\n            for (const key in headersMapHelper) {\n                if (key && key.trim().length > 0) {\n                    const value = headersMapHelper[key];\n                    if (value && value.trim().length > 0) {\n                        webOptions.additionalResourceHeaders[key] = value;\n                    }\n                }\n            }\n        }\n        webOptions.logsEnabled = this.getOverwritableValue(configOptions, 'logsEnabled');\n        return webOptions;\n    }\n    static buildWindowOptions(configOptions) {\n        const windowOptions = new WebOptions();\n        if (configOptions.web) {\n            if (configOptions.web.windowOptions) {\n                windowOptions.windowOptions = configOptions.web.windowOptions;\n            }\n            if (configOptions.web.windowTarget) {\n                windowOptions.windowTarget = configOptions.web.windowTarget;\n            }\n        }\n        return windowOptions;\n    }\n}\nexport class CryptoUtils {\n    static toUint8Array(str) {\n        const buf = new ArrayBuffer(str.length);\n        const bufView = new Uint8Array(buf);\n        for (let i = 0; i < str.length; i++) {\n            bufView[i] = str.charCodeAt(i);\n        }\n        return bufView;\n    }\n    static toBase64Url(base64) {\n        return base64.replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=/g, '');\n    }\n    static toBase64(bytes) {\n        const len = bytes.length;\n        let base64 = '';\n        for (let i = 0; i < len; i += 3) {\n            base64 += this.BASE64_CHARS[bytes[i] >> 2];\n            base64 += this.BASE64_CHARS[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n            base64 +=\n                this.BASE64_CHARS[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n            base64 += this.BASE64_CHARS[bytes[i + 2] & 63];\n        }\n        if (len % 3 === 2) {\n            base64 = base64.substring(0, base64.length - 1) + '=';\n        }\n        else if (len % 3 === 1) {\n            base64 = base64.substring(0, base64.length - 2) + '==';\n        }\n        return base64;\n    }\n    static deriveChallenge(codeVerifier) {\n        if (codeVerifier.length < 43 || codeVerifier.length > 128) {\n            return Promise.reject(new Error('ERR_PKCE_CODE_VERIFIER_INVALID_LENGTH'));\n        }\n        if (!CryptoUtils.HAS_SUBTLE_CRYPTO) {\n            return Promise.reject(new Error('ERR_PKCE_CRYPTO_NOTSUPPORTED'));\n        }\n        return new Promise((resolve, reject) => {\n            crypto.subtle.digest('SHA-256', this.toUint8Array(codeVerifier)).then(arrayBuffer => {\n                return resolve(this.toBase64Url(this.toBase64(new Uint8Array(arrayBuffer))));\n            }, error => reject(error));\n        });\n    }\n}\nCryptoUtils.BASE64_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\nCryptoUtils.HAS_SUBTLE_CRYPTO = typeof window !== 'undefined' &&\n    !!window.crypto &&\n    !!window.crypto.subtle;\nexport class WebOptions {\n    constructor() {\n        this.sendCacheControlHeader = true;\n        this.windowTarget = '_blank';\n    }\n}\n//# sourceMappingURL=web-utils.js.map","import { WebPlugin } from '@capacitor/core';\nimport { WebUtils } from './web-utils';\nexport class GenericOAuth2Web extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.windowHandle = null;\n        this.intervalId = null;\n        this.loopCount = 2000;\n        this.intervalLength = 100;\n        this.windowClosedByPlugin = false;\n        this.MSG_RETURNED_TO_JS = 'Returned to JS:';\n    }\n    /**\n     * Get a new access token using an existing refresh token.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async refreshToken(_options) {\n        return new Promise((_resolve, reject) => {\n            reject(new Error('Functionality not implemented for PWAs yet'));\n        });\n    }\n    /**\n     * New: Pure redirect consumer. No popup/window required.\n     * Call this from your /auth/callback route with the full redirected URL.\n     * Returns the same payload shape produced by requestResource/assignResponses.\n     */\n    async consumeRedirectUrl(redirectedUrl, options) {\n        const webOptions = options.authorizationBaseUrl && options.redirectUrl\n            ? options\n            : await WebUtils.buildWebOptions(options);\n        const urlParams = WebUtils.getUrlParams(redirectedUrl);\n        if (!urlParams) {\n            throw new Error('Oauth Parameters where not present in url.');\n        }\n        if (webOptions.logsEnabled) {\n            this.doLog('Authorization response (pure):', urlParams);\n        }\n        // State check (CSRF)\n        if (urlParams.state !== webOptions.state) {\n            if (webOptions.logsEnabled) {\n                this.doLog('State from web options: ' + webOptions.state);\n                this.doLog('State returned from provider: ' + urlParams.state);\n            }\n            throw new Error('ERR_STATES_NOT_MATCH');\n        }\n        // Authorization Code (+PKCE) flow\n        if (webOptions.accessTokenEndpoint) {\n            const authorizationCode = urlParams.code;\n            if (!authorizationCode)\n                throw new Error('ERR_NO_AUTHORIZATION_CODE');\n            const form = new URLSearchParams(WebUtils.getTokenEndpointData(webOptions, authorizationCode));\n            const headers = {\n                accept: 'application/json',\n                'content-type': 'application/x-www-form-urlencoded',\n            };\n            if (webOptions.sendCacheControlHeader)\n                headers['cache-control'] = 'no-cache';\n            let accessTokenResponse;\n            try {\n                const resp = await fetch(webOptions.accessTokenEndpoint, {\n                    method: 'POST',\n                    headers,\n                    body: form,\n                });\n                if (!resp.ok)\n                    throw new Error(`ERR_GENERAL`);\n                accessTokenResponse = await resp.json();\n                WebUtils.clearCodeVerifier();\n            }\n            catch (_e) {\n                this.doLog('ERR_GENERAL during token exchange');\n                throw new Error('ERR_GENERAL');\n            }\n            if (webOptions.logsEnabled)\n                this.doLog('Access token response (pure):', accessTokenResponse);\n            if (webOptions.resourceUrl) {\n                const resource = await this.fetchResourcePure(webOptions, accessTokenResponse.access_token);\n                const result = {};\n                this.assignResponses(result, accessTokenResponse.access_token, urlParams, accessTokenResponse);\n                Object.assign(result, resource);\n                if (webOptions.logsEnabled)\n                    this.doLog(this.MSG_RETURNED_TO_JS, result);\n                return result;\n            }\n            else {\n                const result = {};\n                this.assignResponses(result, accessTokenResponse.access_token, urlParams, accessTokenResponse);\n                if (webOptions.logsEnabled)\n                    this.doLog(this.MSG_RETURNED_TO_JS, result);\n                return result;\n            }\n        }\n        // Implicit flow\n        const accessToken = urlParams.access_token;\n        if (!accessToken) {\n            throw new Error('ERR_NO_ACCESS_TOKEN');\n        }\n        if (webOptions.resourceUrl) {\n            const resource = await this.fetchResourcePure(webOptions, accessToken);\n            const result = {};\n            this.assignResponses(result, accessToken, urlParams, null);\n            Object.assign(result, resource);\n            if (webOptions.logsEnabled)\n                this.doLog(this.MSG_RETURNED_TO_JS, result);\n            return result;\n        }\n        else {\n            const result = {};\n            this.assignResponses(result, accessToken, urlParams, null);\n            if (webOptions.logsEnabled)\n                this.doLog(this.MSG_RETURNED_TO_JS, result);\n            return result;\n        }\n    }\n    async redirectFlowCodeListener(options) {\n        this.webOptions = await WebUtils.buildWebOptions(options);\n        return new Promise((resolve, reject) => {\n            const urlParamObj = WebUtils.getUrlParams(options.response_url);\n            if (urlParamObj) {\n                const code = urlParamObj.code;\n                if (code) {\n                    this.getAccessToken(urlParamObj, resolve, reject, code);\n                }\n                else {\n                    reject(new Error('Oauth Code parameter was not present in url.'));\n                }\n            }\n            else {\n                reject(new Error('Oauth Parameters where not present in url.'));\n            }\n        });\n    }\n    async authenticate(options) {\n        return this.syncAuthenticate(options);\n    }\n    syncAuthenticate(options) {\n        const windowOptions = WebUtils.buildWindowOptions(options);\n        // open placeholder window first to avoid popup blockers\n        this.windowHandle =\n            options.windowHandle || window.open('', windowOptions.windowTarget, windowOptions.windowOptions);\n        return WebUtils.buildWebOptions(options).then((webOptions) => {\n            this.webOptions = webOptions;\n            return new Promise((resolve, reject) => {\n                // validate\n                if (!this.webOptions.appId || this.webOptions.appId.length === 0) {\n                    reject(new Error('ERR_PARAM_NO_APP_ID'));\n                    return;\n                }\n                else if (!this.webOptions.authorizationBaseUrl || this.webOptions.authorizationBaseUrl.length === 0) {\n                    reject(new Error('ERR_PARAM_NO_AUTHORIZATION_BASE_URL'));\n                    return;\n                }\n                else if (!this.webOptions.redirectUrl || this.webOptions.redirectUrl.length === 0) {\n                    reject(new Error('ERR_PARAM_NO_REDIRECT_URL'));\n                    return;\n                }\n                else if (!this.webOptions.responseType || this.webOptions.responseType.length === 0) {\n                    reject(new Error('ERR_PARAM_NO_RESPONSE_TYPE'));\n                    return;\n                }\n                // init internal control params\n                let loopCount = this.loopCount;\n                this.windowClosedByPlugin = false;\n                // open window with the authorization URL\n                const authorizationUrl = WebUtils.getAuthorizationUrl(this.webOptions);\n                if (this.webOptions.logsEnabled) {\n                    this.doLog('Authorization url: ' + authorizationUrl);\n                }\n                if (this.windowHandle) {\n                    this.windowHandle.location.href = authorizationUrl;\n                }\n                // polling loop for redirect / closure (same-origin only)\n                this.intervalId = window.setInterval(() => {\n                    var _a;\n                    if (loopCount-- < 0) {\n                        this.closeWindow();\n                    }\n                    else if (((_a = this.windowHandle) === null || _a === void 0 ? void 0 : _a.closed) && !this.windowClosedByPlugin) {\n                        window.clearInterval(this.intervalId);\n                        reject(new Error('USER_CANCELLED'));\n                    }\n                    else {\n                        let href;\n                        try {\n                            href = this.windowHandle.location.href;\n                        }\n                        catch (_ignore) {\n                            // cross-origin; ignore DOMException\n                        }\n                        if (href != null && href.indexOf(this.webOptions.redirectUrl) >= 0) {\n                            if (this.webOptions.logsEnabled) {\n                                this.doLog('Url from Provider: ' + href);\n                            }\n                            const authorizationRedirectUrlParamObj = WebUtils.getUrlParams(href);\n                            if (authorizationRedirectUrlParamObj) {\n                                if (this.webOptions.logsEnabled) {\n                                    this.doLog('Authorization response:', authorizationRedirectUrlParamObj);\n                                }\n                                window.clearInterval(this.intervalId);\n                                // state check\n                                if (authorizationRedirectUrlParamObj.state === this.webOptions.state) {\n                                    if (this.webOptions.accessTokenEndpoint) {\n                                        const authorizationCode = authorizationRedirectUrlParamObj.code;\n                                        if (authorizationCode) {\n                                            this.getAccessToken(authorizationRedirectUrlParamObj, resolve, reject, authorizationCode);\n                                        }\n                                        else {\n                                            reject(new Error('ERR_NO_AUTHORIZATION_CODE'));\n                                        }\n                                        this.closeWindow();\n                                    }\n                                    else {\n                                        // implicit flow: request resource or resolve immediately\n                                        this.requestResource(authorizationRedirectUrlParamObj.access_token, resolve, reject, authorizationRedirectUrlParamObj);\n                                    }\n                                }\n                                else {\n                                    if (this.webOptions.logsEnabled) {\n                                        this.doLog('State from web options: ' + this.webOptions.state);\n                                        this.doLog('State returned from provider: ' + authorizationRedirectUrlParamObj.state);\n                                    }\n                                    reject(new Error('ERR_STATES_NOT_MATCH'));\n                                    this.closeWindow();\n                                }\n                            }\n                            // no else: continue polling if not our redirect\n                        }\n                    }\n                }, this.intervalLength);\n            });\n        });\n    }\n    getAccessToken(authorizationRedirectUrlParamObj, resolve, reject, authorizationCode) {\n        const tokenRequest = new XMLHttpRequest();\n        tokenRequest.onload = () => {\n            WebUtils.clearCodeVerifier();\n            if (tokenRequest.status === 200) {\n                const accessTokenResponse = JSON.parse(tokenRequest.response);\n                if (this.webOptions.logsEnabled) {\n                    this.doLog('Access token response:', accessTokenResponse);\n                }\n                this.requestResource(accessTokenResponse.access_token, resolve, reject, authorizationRedirectUrlParamObj, accessTokenResponse);\n            }\n            else {\n                this.doLog('ERR_GENERAL: Token endpoint HTTP ' + tokenRequest.status);\n                reject(new Error('ERR_GENERAL'));\n            }\n        };\n        tokenRequest.onerror = () => {\n            this.doLog('ERR_GENERAL: See client logs. It might be CORS. Status text: ' + tokenRequest.statusText);\n            reject(new Error('ERR_GENERAL'));\n        };\n        tokenRequest.open('POST', this.webOptions.accessTokenEndpoint, true);\n        tokenRequest.setRequestHeader('accept', 'application/json');\n        if (this.webOptions.sendCacheControlHeader) {\n            tokenRequest.setRequestHeader('cache-control', 'no-cache');\n        }\n        tokenRequest.setRequestHeader('content-type', 'application/x-www-form-urlencoded');\n        tokenRequest.send(WebUtils.getTokenEndpointData(this.webOptions, authorizationCode));\n    }\n    requestResource(accessToken, resolve, reject, authorizationResponse, accessTokenResponse = null) {\n        if (this.webOptions.resourceUrl) {\n            const logsEnabled = this.webOptions.logsEnabled;\n            if (logsEnabled) {\n                this.doLog('Resource url: ' + this.webOptions.resourceUrl);\n            }\n            if (accessToken) {\n                if (logsEnabled) {\n                    this.doLog('Access token:', accessToken);\n                }\n                const self = this;\n                const request = new XMLHttpRequest();\n                request.onload = function () {\n                    if (this.status === 200) {\n                        const resp = JSON.parse(this.response);\n                        if (logsEnabled) {\n                            self.doLog('Resource response:', resp);\n                        }\n                        if (resp) {\n                            self.assignResponses(resp, accessToken, authorizationResponse, accessTokenResponse);\n                        }\n                        if (logsEnabled) {\n                            self.doLog(self.MSG_RETURNED_TO_JS, resp);\n                        }\n                        resolve(resp);\n                    }\n                    else {\n                        reject(new Error(this.statusText));\n                    }\n                    self.closeWindow();\n                };\n                request.onerror = function () {\n                    if (logsEnabled) {\n                        self.doLog('ERR_GENERAL: ' + this.statusText);\n                    }\n                    reject(new Error('ERR_GENERAL'));\n                    self.closeWindow();\n                };\n                request.open('GET', this.webOptions.resourceUrl, true);\n                request.setRequestHeader('Authorization', `Bearer ${accessToken}`);\n                if (this.webOptions.additionalResourceHeaders) {\n                    for (const key in this.webOptions.additionalResourceHeaders) {\n                        request.setRequestHeader(key, this.webOptions.additionalResourceHeaders[key]);\n                    }\n                }\n                request.send();\n            }\n            else {\n                if (logsEnabled) {\n                    this.doLog('No accessToken was provided although you configured a resourceUrl. Remove the resourceUrl from the config.');\n                }\n                reject(new Error('ERR_NO_ACCESS_TOKEN'));\n                this.closeWindow();\n            }\n        }\n        else {\n            // if no resource url exists just return the accessToken response\n            const resp = {};\n            this.assignResponses(resp, accessToken, authorizationResponse, accessTokenResponse);\n            if (this.webOptions.logsEnabled) {\n                this.doLog(this.MSG_RETURNED_TO_JS, resp);\n            }\n            resolve(resp);\n            this.closeWindow();\n        }\n    }\n    async fetchResourcePure(webOptions, accessToken) {\n        if (!webOptions.resourceUrl)\n            return {};\n        const headers = { Authorization: `Bearer ${accessToken}` };\n        if (webOptions.additionalResourceHeaders) {\n            for (const k in webOptions.additionalResourceHeaders) {\n                headers[k] = webOptions.additionalResourceHeaders[k];\n            }\n        }\n        try {\n            const resp = await fetch(webOptions.resourceUrl, { headers });\n            if (!resp.ok)\n                throw new Error(resp.statusText);\n            const json = await resp.json();\n            if (webOptions.logsEnabled)\n                this.doLog('Resource response (pure):', json);\n            return json !== null && json !== void 0 ? json : {};\n        }\n        catch (e) {\n            if (webOptions.logsEnabled)\n                this.doLog('ERR_GENERAL (resource): ' + (e === null || e === void 0 ? void 0 : e.message));\n            throw new Error((e === null || e === void 0 ? void 0 : e.message) || 'ERR_GENERAL');\n        }\n    }\n    assignResponses(resp, accessToken, authorizationResponse, accessTokenResponse = null) {\n        // #154\n        if (authorizationResponse) {\n            resp['authorization_response'] = authorizationResponse;\n        }\n        if (accessTokenResponse) {\n            resp['access_token_response'] = accessTokenResponse;\n        }\n        resp['access_token'] = accessToken;\n    }\n    async logout(options) {\n        return new Promise((resolve, _reject) => {\n            localStorage.removeItem(WebUtils.getAppId(options));\n            resolve(true);\n        });\n    }\n    closeWindow() {\n        var _a;\n        if (this.intervalId !== null) {\n            window.clearInterval(this.intervalId);\n            this.intervalId = null;\n        }\n        // #164 if the provider's login page is opened in the same tab or window it must not be closed\n        // if (this.webOptions.windowTarget !== \"_self\") {\n        //     this.windowHandle?.close();\n        // }\n        (_a = this.windowHandle) === null || _a === void 0 ? void 0 : _a.close();\n        this.windowClosedByPlugin = true;\n    }\n    doLog(msg, obj = null) {\n        // eslint-disable-next-line no-console\n        console.log('I/Capacitor/GenericOAuth2Plugin: ' + msg, obj);\n    }\n}\n//# sourceMappingURL=web.js.map"],"names":["registerPlugin","WebPlugin"],"mappings":"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"}